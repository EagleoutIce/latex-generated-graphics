%% block icon network generator package
%% Florian Sihler, 2021-03-14
\ProvidesPackage{blk-ico-net@matrix}[2021/03/14 v1.0 blk icon network generator package]
\def\binet@calcdiffs{
\edef\binet@block@dif@x
    {\the\numexpr\binet@block@max@width-\binet@block@min@width}%
\edef\binet@block@dif@y
    {\the\numexpr\binet@block@max@height-\binet@block@min@height}%
\let\binet@matrix@x\binet@width
\let\binet@matrix@y\binet@height
}
\def\binet@element{}

%%% The Lists (why not rndlist? Manipulating them can be quite tedious)
\def\binet@setup@matrix{
\binet@m@for@y{% for each y
    \expandafter\let\csname binet@m@\arabic{binet@y}\endcsname\binet@element
    \binet@m@for@x{% for each x
        \expandafter\let\csname binet@m@\arabic{binet@y}@\arabic{binet@x}\endcsname\binet@element
    }%
}%
\binet@update@present@squares
}

\def\binet@m@get(#1,#2){\@nameuse{binet@m@#2@#1}}% (x, y)
\def\binet@m@cget(#1,#2){\binet@m@get(\arabic{#1},\arabic{#2})}% (x, y) but with counters

\long\def\binet@if@m@free(#1,#2)#3#4{\ifcsname binet@m@#2@#1\endcsname#3\else#4\fi}
\def\binet@if@m@cfree(#1,#2){\binet@if@m@free(\arabic{#1},\arabic{#2})}

\def\binet@m@block(#1,#2){%
    \expandafter\expandafter\expandafter\expandafter\expandafter\expandafter\expandafter%
    \undef\binet@m@get(#1,#2)}
\def\binet@m@unblock(#1,#2){%
    \expandafter\def\csname binet@m@#2@#1\endcsname{}}
\def\binet@m@cblock(#1,#2){\binet@m@block(\arabic{#1},\arabic{#2})}

\long\def\binet@m@for@y#1{%
\setcounter{binet@y}{0}%
\@whilenum\value{binet@y}<\binet@matrix@y\do{%
    \setcounter{binet@x}{0}#1\advance\c@binet@y\@ne
}}

\long\def\binet@m@for@x#1{%
\@whilenum\value{binet@x}<\binet@matrix@x\do{% for each x
    #1\advance\c@binet@x\@ne
}}
\endinput